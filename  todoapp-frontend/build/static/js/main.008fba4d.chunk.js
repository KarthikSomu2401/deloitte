(this["webpackJsonptodoapp-frontend"]=this["webpackJsonptodoapp-frontend"]||[]).push([[0],{49:function(e,t,a){},50:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(25),l=a.n(c),i=(a(49),a.p,a(50),a(42)),r=a(5),o=a(26),d=a(14),m=a(15),h=a(9),b=a(18),j=a(16),u=a(6),p=a(44),O=a(17),x=a(2),g=new O.a,f=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={userName:"",password:""},s.myChangeHandler=function(e){var t=e.target,a=t.name,n=t.value;s.setState(Object(o.a)({},a,n))},s.handleSubmit=s.handleSubmit.bind(Object(h.a)(s)),s.myChangeHandler=s.myChangeHandler.bind(Object(h.a)(s)),s}return Object(m.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault();var t={userName:this.state.userName,password:this.state.password},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("".concat("http://localhost:8080","/auth/loginuser"),a).then((function(e){return e.json()})).then((function(e){new Promise((function(t,a){console.log(e),g.set("userName",e.userName),setTimeout((function(){t()}),1e3)})).then((function(e){window.location.href="#/dashboard"}))}))}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"auth-wrapper",children:Object(x.jsx)("div",{className:"auth-inner",children:Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsx)("h3",{children:"Sign In"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Username"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter username",name:"userName",value:this.state.userName,onChange:this.myChangeHandler})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"password",value:this.state.password,onChange:this.myChangeHandler})]}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Sign In"}),Object(x.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",Object(x.jsx)("a",{href:"#",children:"password?"})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)(p.a,{href:"/register",className:"btn btn-warning btn-block",children:[Object(x.jsx)(u.f,{})," Register"]})]})})})}}]),a}(s.Component),N=new O.a,k=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).logoutHandler=function(e){e.preventDefault(),N.remove("userName"),window.location.href="/"},s.state={userName:""},s.logoutHandler=s.logoutHandler.bind(Object(h.a)(s)),s}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.setState({userName:N.get("userName")})}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsxs)("nav",{className:"mb-1 navbar navbar-expand-lg navbar-light bg-light navcolor-light",children:[Object(x.jsxs)("a",{className:"navbar-brand nav-title",href:"dashboard/",children:["Hi, ",this.capitalize(this.state.userName)]}),Object(x.jsx)("span",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent-555","aria-controls":"navbarSupportedContent-555","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(x.jsx)(u.a,{})}),Object(x.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent-555",children:Object(x.jsx)("ul",{className:"navbar-nav ml-auto nav-flex-icons",children:Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("a",{className:"nav-link nav-title",href:"javascript:void(0)",onClick:this.logoutHandler,children:"Logout"})})})})]})})}}]),a}(s.Component),v=function(){return Object(x.jsx)("div",{children:Object(x.jsx)(k,{})})},T=a(32),y=a.n(T),D=new O.a,C=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).myTasksArrange=function(e){var t=this,a={overflowX:"scroll"},s=e.map((function(e){return Object(x.jsx)(n.a.Fragment,{children:Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-2 col-xs-2",children:Object(x.jsx)("h3",{className:"float-left",children:e.taskName})}),Object(x.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-3 col-xs-3",children:Object(x.jsx)("p",{className:"float-left",children:e.taskDateTime})}),Object(x.jsxs)("div",{className:"col-lg-5 col-md-5 col-sm-5 col-xs-5",style:a,children:[" ",Object(x.jsx)("p",{className:"float-left",children:e.taskDescription})]}),Object(x.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 col-xs-2",children:[e.complete?Object(x.jsx)("span",{}):Object(x.jsx)("button",{className:"btn btn-success crd-btn float-right",onClick:function(){return t.handleComplete(e.id)},children:Object(x.jsx)(u.b,{})}),Object(x.jsx)("button",{className:"btn btn-danger crd-btn float-right",onClick:function(){return t.handleDelete(e.id)},children:Object(x.jsx)(u.e,{})}),e.complete?Object(x.jsx)("span",{}):Object(x.jsx)("button",{className:"btn btn-primary crd-btn float-right","data-toggle":"modal","data-target":"#updateTaskModal",onClick:t.displayData(e),children:Object(x.jsx)(u.c,{})})]})]})})})},e.id)}));this.setState({userTasks:this.state.userTasks.concat(s)})},s.displayData=function(e){this.setState({currentId:e.id,updateTaskName:e.taskName,updateTaskDescription:e.taskDescription,updateTaskDateTime:new Date(e.taskDateTime)})},s.myTasksRefresh=function(e){var t=this,a={overflowX:"scroll"};this.setState({userTasks:[]});var s=e.map((function(e){return Object(x.jsx)(n.a.Fragment,{children:Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-lg-2 col-md-2 col-sm-2 col-xs-2",children:Object(x.jsx)("h3",{className:"float-left",children:e.taskName})}),Object(x.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-3 col-xs-3",children:Object(x.jsx)("p",{className:"float-left",children:e.taskDateTime})}),Object(x.jsxs)("div",{className:"col-lg-5 col-md-5 col-sm-5 col-xs-5",style:a,children:[" ",Object(x.jsx)("p",{className:"float-left",children:e.taskDescription})]}),Object(x.jsxs)("div",{className:"col-lg-2 col-md-2 col-sm-2 col-xs-2",children:[e.complete?Object(x.jsx)("span",{}):Object(x.jsx)("button",{className:"btn btn-success crd-btn float-right",onClick:function(){return t.handleComplete(e.id)},children:Object(x.jsx)(u.b,{})}),Object(x.jsx)("button",{className:"btn btn-danger crd-btn float-right",onClick:function(){return t.handleDelete(e.id)},children:Object(x.jsx)(u.e,{})}),e.complete?Object(x.jsx)("span",{}):Object(x.jsx)("button",{className:"btn btn-primary crd-btn float-right","data-toggle":"modal","data-target":"#updateTaskModal",onClick:t.displayData(e),children:Object(x.jsx)(u.c,{})})]})]})})})},e.id)}));this.setState({userTasks:this.state.userTasks.concat(s)})},s.deleteTask=function(e){var t=s.state.userTasksOriginal.filter((function(t){return t.id!==e}));s.setState({userTasksOriginal:t}),s.myTasksRefresh(t)},s.myChangeHandler=function(e){var t=e.target,a=t.name,n=t.value;s.setState(Object(o.a)({},a,n))},s.state={userName:"",userTasksOriginal:[],userTasks:[],taskName:"",currentId:0,taskDescription:"",taskDateTime:new Date,updateTaskName:"",updateTaskDescription:"",updateTaskDateTime:new Date,seeCompleted:!1},s.handleSubmit=s.handleSubmit.bind(Object(h.a)(s)),s.handleUpdate=s.handleUpdate.bind(Object(h.a)(s)),s.handleDelete=s.handleDelete.bind(Object(h.a)(s)),s.myChangeHandler=s.myChangeHandler.bind(Object(h.a)(s)),s}return Object(m.a)(a,[{key:"displayCompleted",value:function(){this.seeCompleted=!0,this.getFreshData(D.get("userName"),"true")}},{key:"displayNonCompleted",value:function(){this.seeCompleted=!1,this.getFreshData(D.get("userName"),"false")}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={taskName:this.state.taskName,taskDescription:this.state.taskDescription,utcString:this.state.taskDateTime.toUTCString(),isComplete:!1},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("".concat("http://localhost:8080","/todo/create-task?userName=").concat(D.get("userName")),s).then((function(e){return e.json()})).then((function(e){t.myTasksArrange([e]),t.setState({taskName:"",taskDescription:"",taskDateTime:new Date,userTasksOriginal:t.state.userTasksOriginal.concat(e)})}))}},{key:"handleUpdate",value:function(e){var t=this;e.preventDefault();var a={id:this.state.currentId,taskName:this.state.updateTaskName,taskDescription:this.state.updateTaskDescription,utcString:this.state.updateTaskDateTime.toUTCString(),isComplete:!1},s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("".concat("http://localhost:8080","/todo/update-task?userName=").concat(D.get("userName")),s).then((function(e){return e.json()})).then((function(e){t.getFreshData(D.get("userName"),"false"),t.setState({updateTaskName:"",updateTaskDescription:"",updateTaskDateTime:new Date})}))}},{key:"handleComplete",value:function(e){var t=this;fetch("".concat("http://localhost:8080","/todo/mark-complete?taskId=").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"}}).then((function(e){t.getFreshData(D.get("userName"),"false")}))}},{key:"handleDelete",value:function(e){var t=this;fetch("".concat("http://localhost:8080","/todo/delete-task?taskId=").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(a){t.deleteTask(e)}))}},{key:"getFreshData",value:function(e,t){var a=this;fetch("".concat("http://localhost:8080","/todo/get-all-tasks?userName=").concat(e,"&completed=").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({userTasksOriginal:[]}),e.length>0&&a.setState({userTasksOriginal:a.state.userTasksOriginal.concat(e)}),a.myTasksRefresh(e)}))}},{key:"componentDidMount",value:function(){null!=D.get("userName")?(this.setState({userName:D.get("userName")}),this.getFreshData(D.get("userName"),"false")):window.location.href="/"}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)(v,{}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsx)("div",{className:"modal fade",id:"addTaskModal",tabIndex:"-1",role:"dialog","aria-labelledby":"addTaskModalLabel","aria-hidden":"true",children:Object(x.jsx)("div",{className:"modal-dialog",role:"document",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h5",{className:"modal-title",id:"addTaskModalLabel",children:"Create ToDo Task"}),Object(x.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsxs)("div",{className:"modal-body",children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"taskName",className:"col-form-label",children:"Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"taskName",name:"taskName",value:this.state.taskName,onChange:this.myChangeHandler})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"taskDescription",className:"col-form-label",children:"Description"}),Object(x.jsx)("textarea",{className:"form-control",id:"taskDescription",name:"taskDescription",value:this.state.taskDescription,onChange:this.myChangeHandler})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"message-text",className:"col-form-label",children:"Pick Date and Time: "}),Object(x.jsx)(y.a,{name:"taskDateTime",id:"taskDateTime",value:this.state.taskDateTime,onChange:function(t){return e.setState({taskDateTime:t})}})]})]}),Object(x.jsx)("div",{className:"modal-footer",children:Object(x.jsx)("button",{type:"submit","data-toggle":"modal","data-target":"#addTaskModal",className:"btn btn-primary",children:"Create Task"})})]})]})})}),Object(x.jsx)("div",{className:"modal fade",id:"updateTaskModal",tabIndex:"-1",role:"dialog","aria-labelledby":"updateTaskModalLabel","aria-hidden":"true",children:Object(x.jsx)("div",{className:"modal-dialog",role:"document",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h5",{className:"modal-title",id:"updateTaskModalLabel",children:"Update ToDo Task"}),Object(x.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(x.jsxs)("form",{onSubmit:this.handleUpdate,children:[Object(x.jsxs)("div",{className:"modal-body",children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"taskName",className:"col-form-label",children:"Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"updateTaskName",name:"updateTaskName",value:this.state.updateTaskName,onChange:this.myChangeHandler})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"taskDescription",className:"col-form-label",children:"Description"}),Object(x.jsx)("textarea",{className:"form-control",id:"updateTaskDescription",name:"updateTaskDescription",value:this.state.updateTaskDescription,onChange:this.myChangeHandler})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"message-text",className:"col-form-label",children:"Pick Date and Time: "}),Object(x.jsx)(y.a,{name:"updateTaskDateTime",id:"updateTaskDateTime",value:this.state.updateTaskDateTime,onChange:function(t){return e.setState({updateTaskDateTime:t})}})]})]}),Object(x.jsx)("div",{className:"modal-footer",children:Object(x.jsx)("button",{type:"submit","data-toggle":"modal","data-target":"#updateTaskModal",className:"btn btn-primary",children:"Update Task"})})]})]})})}),Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:[Object(x.jsxs)("button",{type:"button",className:"btn btn-primary crd-btn float-right","data-toggle":"modal","data-target":"#addTaskModal",children:[Object(x.jsx)(u.d,{})," Add ToDo"]}),Object(x.jsxs)("button",{type:"button",hidden:this.seeCompleted,className:"btn btn-success crd-btn float-right",onClick:function(){return e.displayCompleted()},children:[Object(x.jsx)(u.b,{})," See Completed"]}),Object(x.jsxs)("button",{type:"button",hidden:!this.seeCompleted,className:"btn btn-warning crd-btn float-right",onClick:function(){return e.displayNonCompleted()},children:[Object(x.jsx)(u.b,{})," See InComplete"]})]})}),Object(x.jsx)("div",{className:"listContainer",children:this.state.userTasks.length>0?this.state.userTasks:"Nothing to Display!!!"})]})]})}}]),a}(s.Component);var S=function(){return Object(x.jsx)(i.a,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(r.a,{exact:!0,path:"/",component:f}),Object(x.jsx)(r.a,{exact:!0,path:"/dashboard",component:C})]})})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),s(e),n(e),c(e),l(e)}))};a(41),a(77);l.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(S,{})}),document.getElementById("root")),w()}},[[80,1,2]]]);
//# sourceMappingURL=main.008fba4d.chunk.js.map